{"body":"\n\n\n## Countdown - Snippet 19\n\nToday, a snippet in typescript.\n\n**Snippet**\n\n![CRCRC-19](/images/articles/CRCRC-19.png)\n\n**Snippet in code**\n\n```typescript\nsetGlobalState(state: Record<string, any> = {}) {\n  if (state === globalState) {\n    console.warn('state has not changed！');\n    return false;\n  }\n\n  const changeKeys: string[] = [];\n  const prevGlobalState = cloneDeep(globalState);\n  globalState = cloneDeep(\n    Object.keys(state).reduce((_globalState, changeKey) => {\n      if (isMaster || _globalState.hasOwnProperty(changeKey)) {\n        changeKeys.push(changeKey);\n        return Object.assign(_globalState, { [changeKey]: state[changeKey] });\n      }\n      console.warn(`'${changeKey}' not declared when init state！`);\n      return _globalState;\n    }, globalState),\n  );\n  if (changeKeys.length === 0) {\n    console.warn('state has not changed！');\n    return false;\n  }\n  emitGlobal(globalState, prevGlobalState);\n  return true;\n},\n```\n\n\n\n**Question**\n\nIn what situations is the global state *not* changed by this code?\n\n## Submission\n\nSubmit your answer in our [form](https://forms.gle/241ak21gMu1fRada6).\n","staticData":{}}